<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>JsUnit Assertion Tests</title>
<link rel="stylesheet" type="text/css" href="../../jsunit/css/jsUnitStyle.css">
<script language="JavaScript" type="text/javascript" src="../../jsunit/app/jsUnitCore.js"></script>
<script language="JavaScript" type="text/javascript" src="../../src/js/Loader.js"></script>

<script language="JavaScript" type="text/javascript">

	function setUp() {

	}
	function setUpPage() {
		var ins = new Loader({
			onLoadFinish 	: createIframeComponent
		});
		loadjs();

	}

	function loadjs(){

		var ins = Loader.instance;

		ins.loadJS("Module.js");
		ins.loadModule("net.xp.dom.IframeComponentHost");

	}

	function createIframeComponent(){
		window.initAccount = 0;
		var md = Module.get("net.xp.dom.IframeComponentHost");
		window.ifch = md.newInst([window]);


		ifch.addEventListener("onInit",window);

		var ifmA = ifch.createIframeComp({
			name : "a"
		});

		var ifmB = ifch.createIframeComp({
			name : "a"
		});

		document.body.appendChild(ifmA.getIframe());
		document.body.appendChild(ifmB.getIframe());

		//alert(ifch.$Win());
		
	}

	function onInit(event){
		alert("oninit");
		initAccount++;
		if (initAccount == 2) finish();
	}

	function finish (){
		window.setUpPageStatus = "complete";
	}
	function tearDown() {

	}

	function test_module(){

		
	}


</script>
</head>

<body>
<div id="sampleDiv"><div id="anotherDiv"></div></div>
<div id="anotherDiv"></div>

</body>
</html>
